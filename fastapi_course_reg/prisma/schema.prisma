generator client {
    provider = "prisma-client-py"
}

datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

model Student {
    id                Int            @id @default(autoincrement())
    name              String
    email             String         @unique
    registeredCourses Registration[]
}

model Course {
    id            Int            @id @default(autoincrement())
    title         String
    code          String         @unique
    registrations Registration[]
}

model Registration {
    id           Int      @id @default(autoincrement())
    student      Student  @relation(fields: [studentId], references: [id])
    studentId    Int
    course       Course   @relation(fields: [courseId], references: [id])
    courseId     Int
    registeredAt DateTime @default(now())
}
